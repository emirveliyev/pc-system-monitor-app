<Window x:Class="pc_system_monitor_app.PinnedWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:pc_system_monitor_app.Controls"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        Width="260"
        Height="260"
        AllowDrop="True"
        Drop="Window_Drop"
        DragEnter="Window_DragEnter"
        DragLeave="Window_DragLeave"
        MouseDown="Window_MouseDown">

    <Grid>
        <!-- Invisible border used for rounded hit area and drop highlight -->
        <Border x:Name="OuterBorder"
                Background="Transparent"
                CornerRadius="16"
                BorderThickness="2"
                BorderBrush="Transparent"
                SnapsToDevicePixels="True">
            <Grid>
                <!-- Centered hint shown only when nothing pinned or when messages need to be shown -->
                <StackPanel x:Name="EmptyHintPanel" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.95">
                    <TextBlock Text="Закрепления" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" TextAlignment="Center"/>
                    <TextBlock x:Name="DropHint" Text="Перетащите сюда датчик (CPU / RAM / GPU)" Opacity="0.85" FontSize="12" HorizontalAlignment="Center" TextAlignment="Center" Margin="0,6,0,0"/>
                </StackPanel>

                <!-- Compact host: uniform grid 2x2 fits up to 3 items nicely -->
                <UniformGrid x:Name="PinsHost" Rows="2" Columns="2" Margin="10" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Visibility="Collapsed"/>

                <!-- small corner close (optional) -->
                <Button x:Name="BtnClose" Width="20" Height="20" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="6"
                        Background="#001111" BorderBrush="#20FFFFFF" Click="BtnClose_Click" ToolTip="Закрыть">
                    <Path Data="M0,0 L1,1 M1,0 L0,1" Stretch="Uniform" Stroke="White" StrokeThickness="2"/>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Window>